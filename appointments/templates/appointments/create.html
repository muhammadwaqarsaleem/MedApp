{% extends "base.html" %}

{% block content %}
<div class="container my-4">

  {# Breadcrumbs for navigation context #}
  {% include "includes/breadcrumbs.html" with crumbs=crumbs %}

  <h2 class="mb-3">Book an Appointment</h2>
  <p class="text-muted">Fill out the form below to schedule your appointment.</p>

  <a href="{% url 'appointments:appointment-list' %}" class="btn btn-link mb-3">← Back to Appointments</a>

  <form method="post" novalidate>
    {% csrf_token %}

    {% if form.non_field_errors %}
      <div class="alert alert-danger">
        {{ form.non_field_errors }}
      </div>
    {% endif %}

    {# Doctor selection dropdown #}
    <div class="mb-3">
      <label for="id_doctor" class="form-label">Select Doctor</label>
      {{ form.doctor }}
      {% if form.doctor.errors %}
        <div class="text-danger">{{ form.doctor.errors }}</div>
      {% endif %}
    </div>

    {# Date and time picker #}
    <div class="mb-3">
      <label for="id_scheduled_time" class="form-label">Scheduled Time</label>
      {{ form.scheduled_time }}
      {% if form.scheduled_time.errors %}
        <div class="text-danger">{{ form.scheduled_time.errors }}</div>
      {% endif %}
    </div>

    {# Reason textarea #}
    <div class="mb-3">
      <label for="id_reason" class="form-label">Reason (optional)</label>
      {{ form.reason }}
      {% if form.reason.errors %}
        <div class="text-danger">{{ form.reason.errors }}</div>
      {% endif %}
    </div>

    {# Submit button #}
    <button type="submit" class="btn btn-primary mt-3">
      <span>✅</span> Book Appointment
    </button>
  </form>

</div>
{% endblock %}
